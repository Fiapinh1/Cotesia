<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home</title>
    <style>
      :root {
        --bg: #0f172a;
        --card: #111827;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --accent: #22c55e;
        --accent-2: #60a5fa;
        --today: #fde68a;
        --btn-bg: #1f2937;
        --btn-hover: #374151;
        --shadow: 0 10px 20px rgba(0,0,0,.25);
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        background: radial-gradient(1200px 800px at 80% -10%, #1f2937 0%, transparent 60%),
                    radial-gradient(900px 600px at 0% 100%, #0b1020 0%, transparent 60%),
                    var(--bg);
        color: var(--text);
        font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji';
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 24px;
      }

      .container {
        width: 100%;
        max-width: 1024px;
        display: grid;
        grid-template-columns: 1.1fr .9fr;
        gap: 20px;
        align-items: stretch;
      }

      .panel {
        background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
        border: 1px solid rgba(255,255,255,.08);
        border-radius: 14px;
        box-shadow: var(--shadow);
        padding: 20px;
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
      }

      .title {
        font-size: 22px;
        font-weight: 700;
        letter-spacing: .3px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .clock {
        display: flex;
        align-items: baseline;
        gap: 10px;
      }
      .clock-time { font-size: 44px; font-weight: 800; letter-spacing: 1px; }
      .clock-sec { font-size: 18px; color: var(--muted); }

      .btns {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 12px;
        margin-top: 8px;
      }

      a.btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 14px 16px;
        border-radius: 12px;
        text-decoration: none;
        color: var(--text);
        background: linear-gradient(180deg, #1f2937, #111827);
        border: 1px solid rgba(255,255,255,.08);
        transition: transform .08s ease, background .2s ease, border-color .2s ease;
        box-shadow: 0 6px 14px rgba(0,0,0,.28);
        font-weight: 600;
        letter-spacing: .2px;
      }
      a.btn:hover { transform: translateY(-1px); background: linear-gradient(180deg, #223049, #111827); border-color: rgba(255,255,255,.16); }
      a.btn:active { transform: translateY(0); }

      .btn .tag { font-size: 12px; color: var(--muted); font-weight: 500; }
      .btn .label { font-size: 16px; }
      .btn svg { width: 20px; height: 20px; stroke-width: 2; }
      .title svg { width: 22px; height: 22px; stroke-width: 2; }

      .calendar {
        display: grid;
        grid-template-rows: auto 1fr;
        gap: 12px;
        height: 100%;
      }
      .cal-head { display: flex; align-items: center; justify-content: space-between; }
      .cal-title { font-weight: 700; font-size: 18px; letter-spacing: .3px; }
      .cal-today { color: var(--muted); font-size: 14px; }
      .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
      .cal-weekday { text-align: center; color: var(--muted); font-size: 12px; font-weight: 600; }
      .day {
        aspect-ratio: 1/1;
        border-radius: 10px;
        display: flex; align-items: center; justify-content: center;
        background: rgba(255,255,255,.02);
        border: 1px solid rgba(255,255,255,.06);
        color: var(--text);
        font-weight: 600;
      }
      .day.muted { color: #6b7280; opacity: .6; }
      .day.today { outline: 2px solid #f59e0b; background: rgba(245, 158, 11, .12); color: #fff; }

      @media (max-width: 860px) {
        .container { grid-template-columns: 1fr; }
        .btns { grid-template-columns: 1fr; }
        .clock-time { font-size: 36px; }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <section class="panel">
        <header>
          <div class="title">Página Inicial</div>
          <div class="clock" aria-live="polite">
            <span id="clock-time" class="clock-time">--:--</span>
            <span id="clock-sec" class="clock-sec">--</span>
          </div>
        </header>

        <div class="btns">
          <a class="btn" href="gerar_linhas.html">
            <span class="label">Gerar Linhas</span>
          </a>
          <a class="btn" href="gerar_pontos.html">
            <span class="label">Gerar Pontos</span>
          </a>
          <a class="btn" href="relatorio_cotesia.html">
            <span class="label">Gerar Relatório</span>
          </a>
          <a class="btn" href="gerar_planos_voo.html">
            <span class="label">Gerar Planos</span>
          </a>
        </div>
      </section>

      <aside class="panel calendar">
        <div class="cal-head">
          <div class="cal-title" id="cal-title">Mês Ano</div>
          <div class="cal-today" id="cal-today">Data de hoje</div>
        </div>
        <div>
          <div class="cal-grid" id="cal-weekdays"></div>
          <div style="height:8px;"></div>
          <div class="cal-grid" id="cal-days"></div>
        </div>
      </aside>
    </div>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
      function two(n){ return String(n).padStart(2,'0'); }

      function updateClock(){
        const now = new Date();
        const h = two(now.getHours());
        const m = two(now.getMinutes());
        const s = two(now.getSeconds());
        document.getElementById('clock-time').textContent = `${h}:${m}`;
        document.getElementById('clock-sec').textContent = s;
      }

      function buildCalendar(date = new Date()){
        const locale = 'pt-BR';
        const monthNames = ['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro'];
        const weekdayNames = ['Dom','Seg','Ter','Qua','Qui','Sex','Sáb']; // semana iniciando no domingo

        const y = date.getFullYear();
        const m = date.getMonth();
        const first = new Date(y, m, 1);
        const last = new Date(y, m + 1, 0);
        const startWeekday = first.getDay(); // 0=Dom .. 6=Sáb
        const totalDays = last.getDate();

        document.getElementById('cal-title').textContent = `${monthNames[m][0].toUpperCase()+monthNames[m].slice(1)} ${y}`;
        document.getElementById('cal-today').textContent = new Intl.DateTimeFormat(locale, { weekday:'long', day:'2-digit', month:'long', year:'numeric' }).format(new Date());

        const weekdaysEl = document.getElementById('cal-weekdays');
        weekdaysEl.innerHTML = '';
        weekdayNames.forEach(w => {
          const el = document.createElement('div');
          el.className = 'cal-weekday';
          el.textContent = w;
          weekdaysEl.appendChild(el);
        });

        const daysEl = document.getElementById('cal-days');
        daysEl.innerHTML = '';

        // Espaços antes do dia 1
        for (let i = 0; i < startWeekday; i++) {
          const spacer = document.createElement('div');
          spacer.className = 'day muted';
          spacer.textContent = '';
          daysEl.appendChild(spacer);
        }

        const today = new Date();
        for (let d = 1; d <= totalDays; d++) {
          const cell = document.createElement('div');
          cell.className = 'day';
          cell.textContent = d;
          if (
            d === today.getDate() &&
            m === today.getMonth() &&
            y === today.getFullYear()
          ) {
            cell.classList.add('today');
            cell.setAttribute('aria-current', 'date');
          }
          daysEl.appendChild(cell);
        }
      }

      updateClock();
      buildCalendar();
      setInterval(updateClock, 1000);

      // Inject icons into buttons and header
      (function(){
        try {
          const iconMap = {
            'gerar_linhas.html': 'git-branch',
            'gerar_pontos.html': 'map-pin',
            'relatorio_cotesia.html': 'file-text',
            'gerar_planos_voo.html': 'navigation'
          };
          document.querySelectorAll('.btns a.btn').forEach(a => {
            const href = a.getAttribute('href') || '';
            const name = iconMap[href];
            if (name && !a.querySelector('[data-lucide]')) {
              const i = document.createElement('i');
              i.setAttribute('data-lucide', name);
              a.insertBefore(i, a.firstChild);
            }
          });
          const title = document.querySelector('.title');
          if (title && !title.querySelector('[data-lucide]')) {
            const i = document.createElement('i');
            i.setAttribute('data-lucide', 'home');
            title.insertBefore(i, title.firstChild);
          }
        } catch (e) { /* no-op */ }
        if (window.lucide && typeof window.lucide.createIcons === 'function') {
          window.lucide.createIcons();
        }
      })();
    </script>
  </body>
</html>
